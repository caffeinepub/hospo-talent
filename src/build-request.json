{
  "kind": "build_request",
  "title": "HOSPO TALENT multi-page frontend + Motoko backend for jobs, auth, and role-based dashboards (IC template)",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Implement a strict brand-token system using CSS variables (Primary purple #6B3FA0, Light lavender #d2b3f8, Soft accent #d0b5f0, Pastel highlight #eebdff; neutrals ink-900/ink-600/surface-0/surface-50/border-100) and apply it consistently across all pages and components with the rule that purple is used only for emphasis (one word in headings, primary CTA, active nav state).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Create CSS variables and use everywhere: Primary purple: #6B3FA0 ... Rules: Purple is only for emphasis: one word in headings, primary CTA, active nav state. Keep everything else neutral and premium."
        ]
      },
      "acceptanceCriteria": [
        "CSS variables exist for all specified tokens and are the only source of truth for colors.",
        "Primary purple appears only in (a) a single emphasized word in major headings, (b) primary CTA, (c) active nav state; other UI uses neutrals.",
        "All interactive elements have accessible focus-visible styling and AA contrast."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Create a reusable frontend component system (composed from existing UI components without editing immutable paths) including: sticky navbar (dark background, logo left, menu center, “Get Started” pill right; active link underline/text), primary pill CTA button (lavender fill, hover glow, focus state), glass hero cards (backdrop blur, 1px border with white opacity), feature cards with minimal icons, process timeline with Phase 1/2/3 tabs + step cards, testimonials 3-card grid with star rating, FAQ accordion, form inputs with validation + error states, and standardized empty states + loading skeletons.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Core Components (Reusable) ... Sticky Navbar ... Primary CTA Button ... Glass Cards ... Process Timeline ... Testimonials ... FAQ Accordion ... Forms ... Empty states + loading skeletons"
        ]
      },
      "acceptanceCriteria": [
        "Each listed component exists as a reusable React component with props documented via TypeScript types.",
        "Components meet responsiveness rules (max width 1200–1280px, section padding 80–120px desktop / 48–72px mobile, card radius 16–24px, soft premium shadow).",
        "Forms show validation messages and disabled/loading states; skeletons are used while fetching protected data."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Implement a coherent, premium visual theme for HOSPO TALENT (typography, spacing rhythm, card style, shadows) consistent with the brand tokens and typography requirements (modern sans for headings; Inter or equivalent for body; heading weights 700–900; body 400–500) and apply it across all pages.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Typography ... Use modern sans: Plus Jakarta Sans / Sora for headings, Inter for body (or equivalent).",
          "Global Layout ... Max width: 1200–1280px ... Card radius: 16–24px ... Shadow: soft, wide blur, low opacity (premium)"
        ]
      },
      "acceptanceCriteria": [
        "Global typography and layout styles are applied consistently across routes.",
        "Major sections follow the specified padding and max-width constraints.",
        "No default/unstyled UI remains (buttons, links, headings, lists, forms)."
      ]
    },
    {
      "id": "REQ-4",
      "text": "Build the public marketing routes as a multi-page React app (client-side routing) with SEO-friendly metadata (document title + meta description + OG tags per route) and fully responsive layouts for: / (Home), /about, /employers, /candidates, /success-stories, /faq, /contact.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Pages to Build (Routes) Marketing (Public, SEO) / Home ... /about ... /employers ... /candidates ... /success-stories ... /faq ... /contact"
        ]
      },
      "acceptanceCriteria": [
        "Each listed route renders distinct content sections described in the prompt (hero, process, testimonials, FAQ, footer/contact as applicable).",
        "Each route sets unique title + description + OG tags (at minimum og:title, og:description, og:type).",
        "All pages are responsive and keyboard navigable."
      ]
    },
    {
      "id": "REQ-5",
      "text": "Implement the Home page layout and sections: dark premium hero with a headline containing exactly one purple-highlight word; two glass CTA cards (“Job Seekers” and “Staff Seekers”); a centered UK map hero (per REQ-6); sections for “Why Work With HOSPO?”, “Our Recruitment Process” (phase tabs + step cards), “Most Recent Top Marks” testimonials, FAQ accordion, and footer with contact + links.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "/ Home ... Hero ... Two glass cards ... UK Map centerpiece ... Sections: “Why Work With HOSPO?” “Our Recruitment Process” ... “Most Recent Top Marks” testimonials ... FAQ ... Footer"
        ]
      },
      "acceptanceCriteria": [
        "Home page includes all named sections in the specified order with working phase tabs and accordion interactions.",
        "The two hero CTA cards are visually distinct glass cards and link to the appropriate routes (candidates/employers or equivalent).",
        "Footer contains contact info and navigation links."
      ]
    },
    {
      "id": "REQ-6",
      "text": "Implement the UK Map Hero as an SVG silhouette of the UK (single path) with overlaid network nodes (circles), connecting lines (thin glow), and a subtle shimmer sweep; animations must be lightweight (SVG only) with slow pulse (2.5–4s) and subtle randomized node twinkle without heavy motion.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "UK Map Hero (Must Implement) Use an SVG silhouette of the UK (single path) Overlay: network nodes ... connecting lines ... subtle shimmer sweep animation ... slow pulse (2.5–4s) ... tiny node twinkle randomness ... no heavy motion"
        ]
      },
      "acceptanceCriteria": [
        "UK silhouette is a single SVG path and renders crisply at multiple viewport sizes.",
        "Pulse, shimmer, and node twinkle animations run smoothly and do not trigger large layout shifts.",
        "Animation implementation uses only SVG/CSS (no heavy canvas/WebGL)."
      ]
    },
    {
      "id": "REQ-7",
      "text": "Build public Jobs pages with real backend data (no dummy flows): /jobs supports filters (location, type, salary range, keyword) and displays listing cards (title, location, type, salary, “View job”); /jobs/:slug renders a job detail view with Apply CTA and includes JobPosting schema readiness (structured data block or equivalent placeholder wired to real job fields).",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "/jobs (Job listing page) Filters: location, type, salary range, keyword ... Listing cards ... /jobs/[slug] (Job detail page) SEO optimized (JobPosting schema ready) Apply CTA"
        ]
      },
      "acceptanceCriteria": [
        "/jobs fetches published jobs from the Motoko backend and filter UI updates results without page reload.",
        "/jobs/:slug fetches by slug and shows not-found state if missing/unpublished.",
        "Apply CTA creates an application record for the authenticated candidate (with clear error messages if not logged in or wrong role)."
      ]
    },
    {
      "id": "REQ-8",
      "text": "Implement authentication using Internet Identity (II) and create an app-level user profile on first login, including a role field with allowed values: candidate, employer, admin (default candidate). Provide login, logout, and role-based route guarding for dashboard routes.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Role-based routing + guards ... Candidate ... Employer ... Admin-ready (optional placeholder)",
          "On first login: create profile row linked to auth.users.id ... role text check in ('candidate','employer','admin') default 'candidate'"
        ]
      },
      "acceptanceCriteria": [
        "Users can sign in and sign out via Internet Identity.",
        "On first authenticated session, a profile record is created if missing and persists across refreshes.",
        "Protected dashboard routes are inaccessible when unauthenticated and are restricted based on role."
      ]
    },
    {
      "id": "REQ-9",
      "text": "Implement protected dashboard routes and pages with role-based redirects from /dashboard and placeholders where needed: Candidate (/dashboard/candidate, /dashboard/candidate/profile with CV upload, /dashboard/candidate/applications); Employer (/dashboard/employer, /dashboard/employer/company, /dashboard/employer/jobs, /dashboard/employer/jobs/new, /dashboard/employer/jobs/:id/edit, /dashboard/employer/applications with status updates); Settings (/dashboard/settings); Admin placeholder (/dashboard/admin).",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Dashboards (Protected) Role-based routing + guards: /dashboard (role redirects) ... Candidate ... Employer ... Settings ... Admin-ready (optional placeholder)"
        ]
      },
      "acceptanceCriteria": [
        "/dashboard redirects to the correct sub-dashboard based on the user role.",
        "Candidate pages allow profile editing, CV upload, and application status viewing based on real backend data.",
        "Employer pages allow company profile editing, job CRUD, and application status updates based on real backend data.",
        "Settings page persists toggles per user.",
        "Admin route exists and is protected for admin role, with placeholder content for metrics/moderation."
      ]
    },
    {
      "id": "REQ-10",
      "text": "Implement Motoko backend data models and APIs to support the application without external databases: Profile, CandidateProfile, EmployerProfile, Job, Application, Settings, including CRUD operations and constraints equivalent to the requested schema (unique job slug, unique (job_id, candidate_id) applications, role checks, timestamps, and job status: draft/published/closed; application status: applied/shortlisted/interview/hired/rejected).",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Create types for Profile, Job, Application.",
          "Database Schema (SQL) ... profiles ... jobs ... applications ... settings ... Constraints: unique(job_id, candidate_id) ... status checks ... slug unique"
        ]
      },
      "acceptanceCriteria": [
        "Backend exposes typed methods to create/update/get profiles, jobs, applications, and settings, including list endpoints required by the UI.",
        "Enforces uniqueness for job slugs and prevents duplicate applications per candidate+job.",
        "Enforces role/ownership rules for writes (candidate cannot create jobs; employer cannot apply; only job owner can edit job; etc.).",
        "Stores created_at/updated_at and updates updated_at on modifications."
      ]
    },
    {
      "id": "REQ-11",
      "text": "Implement backend authorization rules equivalent to the requested RLS policies at the API level: public can read published jobs; authenticated employers can read their own jobs (any status); candidates can read their own applications; employers can read applications for jobs they own; admin can read/update all; settings/profile updates limited to the owning user (or admin).",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Row Level Security (RLS) (Must Implement) ... public can read published jobs only ... authenticated employer can read own jobs ... candidate can read own applications ... employer can read applications for jobs they own ... admin can read all ... settings CRUD only user_id = auth.uid() (or admin)"
        ]
      },
      "acceptanceCriteria": [
        "Unauthenticated users cannot access protected data (profiles, applications, settings) and can only read published jobs.",
        "Authorization checks are enforced on every relevant backend method and are covered by basic happy-path + unauthorized-path tests (manual or automated).",
        "Employer application status updates are limited to applications tied to the employer’s jobs; candidates cannot change application status after applying."
      ]
    },
    {
      "id": "REQ-12",
      "text": "Implement frontend data integration using React Query for all backend calls (jobs listing/detail, profile, job CRUD, applications, settings) including loading skeletons, empty states, and error handling; ensure no “dummy” data paths remain for these flows.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Use types for Profile, Job, Application.",
          "Empty states + loading skeletons",
          "No placeholder “dummy” flows for auth/jobs; wire to real API calls"
        ]
      },
      "acceptanceCriteria": [
        "All data-driven pages use React Query with caching and show skeletons during loading.",
        "Empty states appear for no jobs, no applications, etc., with clear user messaging.",
        "Network/backend errors surface as user-friendly alerts/toasts and do not crash the app."
      ]
    },
    {
      "id": "REQ-13",
      "text": "Add performance and accessibility refinements: use WebP/AVIF where images are used, lazy-load non-critical media, keep animations SVG-only, and ensure keyboard navigation + focus-visible styling across navbar, accordions, tabs, forms, and buttons.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Accessibility: focus-visible on interactive elements, AA contrast",
          "Performance: SVG animations only, WebP/AVIF images, lazy load non-critical media"
        ]
      },
      "acceptanceCriteria": [
        "All interactive components are operable by keyboard and visibly indicate focus.",
        "Non-critical images/media are lazy-loaded; image assets use modern formats when applicable.",
        "Map hero animation remains lightweight and does not degrade scroll/interaction performance."
      ]
    }
  ],
  "constraints": [
    "Must use the provided Internet Computer template stack: React + TypeScript + Tailwind + React Query on the frontend and a single Motoko actor on the backend.",
    "Do not edit files under frontend/src/components/ui or other paths listed as immutable by the platform; compose UI components instead.",
    "All backend logic must live in backend/main.mo under a single-actor architecture; add backend/migration.mo only if state upgrades become necessary.",
    "Do not use Next.js/App Router SSR/SSG; implement a client-routed multi-page experience and per-route metadata within the React app constraints.",
    "Do not integrate Supabase, Postgres SQL migrations/RLS, or Twilio SMS OTP (external DB/auth providers are not supported on this platform).",
    "Authentication must use Internet Identity (the only supported third-party authentication method)."
  ],
  "nonGoals": [
    "Implementing Supabase-specific SQL migrations, RLS policies, storage bucket policies, or Supabase SSR helpers.",
    "Implementing Twilio phone OTP login/verify flows or email-password reset flows via external providers.",
    "True server-side rendering (SSR) or static site generation (SSG) as in Next.js."
  ],
  "imageRequirements": {
    "required": [
      "UK silhouette SVG (single-path) on transparent background (uk-silhouette.dim_1200x800.svg)"
    ],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [
      "Build a production-ready HOSPO TALENT multi-page web app with branded marketing pages, jobs marketplace, authentication, and role-based dashboards."
    ],
    "goalsToRemove": [],
    "preferencesToAdd": [
      "Premium neutral UI with restrained purple accents; accessibility-first; lightweight SVG-based animations."
    ],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}